# Ultralytics ğŸš€ AGPL-3.0 license

# Parameters
nc: 10  # ç±»åˆ«æ•°
scales:
  n: [0.50, 0.25, 1024]  # depth, width, max_channels

# Backbone with Attention
backbone:
  # ç¬¬0å±‚: è¾“å…¥é€šé“3 â†’ è¾“å‡º16
  - [-1, 1, Conv, [16, 3, 2]]          # 0-P1/2 (3,16,3,2)
  # ç¬¬1å±‚: è¾“å…¥16 â†’ è¾“å‡º32
  - [-1, 1, Conv, [32, 3, 2]]          # 1-P2/4 (16,32,3,2)
  # ç¬¬2å±‚: C3k2æ¨¡å— â†’ è¾“å‡º64
  - [-1, 2, C3k2, [64, False, 0.25]]   # 2 (32,64)
  # increaseç¬¬3å±‚: SEæ³¨æ„åŠ› â†’ è¾“å…¥64ï¼ˆå¿…é¡»ä¸ä¸Šä¸€å±‚è¾“å‡ºä¸€è‡´ï¼‰
  - [-1, 1, SEAttention, [16, 4]]     # 3 (64) reduction=16 â†’ 64/16=4
  # ç¬¬4å±‚: ä¸‹é‡‡æ · â†’ è¾“å‡º128
  - [-1, 1, Conv, [128, 3, 2]]         # 4-P3/8 (64,128,3,2)
  # ç¬¬5å±‚: C3k2æ¨¡å— â†’ è¾“å‡º256
  - [-1, 2, C3k2, [256, False, 0.25]]  # 5 (128,256)
  # increaseç¬¬6å±‚: CBAMæ³¨æ„åŠ› â†’ è¾“å…¥64é€šé“ï¼Œreduction=16ï¼ˆå¯çœç•¥ç¬¬äºŒä¸ªå‚æ•°ï¼‰&#8203;:contentReference[oaicite:1]{index=1}
  - [-1, 1, CBAM, [64, 16]]               # 6 (256)
  # ç¬¬7å±‚: ä¸‹é‡‡æ · â†’ è¾“å‡º512
  - [-1, 1, Conv, [512, 3, 2]]         # 7-P4/16 (256,512,3,2)
  # ç¬¬8å±‚: C3k2æ¨¡å— â†’ è¾“å‡º512
  - [-1, 2, C3k2, [512, True]]         # 8 (512,512)
  # increase ç¬¬9å±‚: SEæ³¨æ„åŠ› â†’ è¾“å…¥è¾“å…¥64é€šé“ï¼Œr=16 â†’ hidden=64//16=4 :contentReference[oaicite:2]{index=2}
  - [-1, 1, SEAttention, [128, 16]]    # 9 (512) reduction=32 â†’ 512/32=16
  # ç¬¬10å±‚: ä¸‹é‡‡æ · â†’ è¾“å‡º1024
  - [-1, 1, Conv, [1024, 3, 2]]        # 10-P5/32 (512,1024,3,2)
  # ç¬¬11å±‚: C3k2æ¨¡å— â†’ è¾“å‡º1024
  - [-1, 2, C3k2, [1024, True]]        # 11 (1024,1024)
  # ç¬¬12å±‚: C2PSAæ¨¡å— â†’ è¾“å‡º1024
  - [-1, 2, C2PSA, [1024]]             # 12 (1024)
  # increase ç¬¬13å±‚: CBAMæ³¨æ„åŠ› â†’ è¾“å…¥1024
  - [-1, 1, CBAM, [256, 16]]              # 13 (1024)

# Enhanced Head
head:
  # ç¬¬14å±‚: è¿‡æ¸¡å·ç§¯ â†’ è¾“å‡º1024
  - [-1, 1, Conv, [1024, 3, 1]]        # 14 (1024,1024,3,1)
  # increase ç¬¬15å±‚: SEæ³¨æ„åŠ› â†’ è¾“å…¥1024
  - [-1, 1, SEAttention, [256, 64]]   # 15 (1024) reduction=64 â†’ 1024/64=16
  # ç¬¬16å±‚: åˆ†ç±»å¤´ â†’ è¾“å‡ºnc=10
  - [-1, 1, Classify, [nc]]            # 16 (1024,10)
